<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            box-sizing: border-box;
            font-family: Arial, Helvetica, sans-serif;
        }
        body {
            margin: 0;
            background-color: #000;
            color: white;
        }
        .row {
            display: flex;
            width: 100%;
        }
        .side {
            display: grid;
            grid-template-columns: repeat(4,1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 15px;
            flex: 30%;
            max-width: 50%;
            padding: 10px;
        }
        .side > div {
            background-color: #1f1f1f;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
        }
        .main {
            display: grid;
            grid-template-columns: repeat(4,1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 15px;
            flex: 70%;
            max-width: 50%;
            padding: 10px;
        }
        .main > div {
            background-color: #1f1f1f;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 20px;
            cursor: pointer;
        }
        .len {
            width: 100%;
            height: 100px;
            font-size: 40px;
            background-color: black;
            color: white;
            border: none;
            padding: 10px;
            text-align: right;
        }
        .len:focus-visible {
            outline: none;
        }
        .main div[style], .side div[style] {
            cursor: pointer;
        }
        @media screen and (max-width: 700px) {
            .row {
                flex-direction: column;
            }
            .side {
                display: none;
            }
            .main {
                max-width: 100%;
            }
            .len {
                font-size: 28px;
                height: 80px;
            }
        }
    </style>
</head>
<body>
    <div>
        <textarea class="len" readonly></textarea>
    </div>
    <div class="row">
        <div class="side">
           <div>(</div>
           <div>)</div>
           <div>10^</div>
           <div>1/x</div>
           <div>x^2</div>
           <div>x^3</div>
           <div>y^x</div>
           <div>x!</div>
           <div>√</div>
           <div>x√y</div>
           <div>log</div>
           <div>ln</div>
           <div>sin</div>
           <div>cos</div>
           <div>tan</div>
           <div>sinh</div>
           <div>cosh</div>
           <div>tanh</div>
           <div>e^</div>
           <div>π</div>
        </div>
        <div class="main">
            <div style="background-color: #484646;">mc</div>
            <div style="background-color: #484646;">m+</div>
            <div style="background-color: #484646;">m-</div>
            <div style="background-color: #484646;">mr</div>
            <div style="color: #ff6200;background-color: #484646">AC</div>
            <div style="color: #ff6200;background-color: #484646">←</div>
            <div style="background-color: #484646;">+/-</div>
            <div style="background-color: #484646;">÷</div>
            <div>7</div>
            <div>8</div>
            <div>9</div>
            <div style="background-color: #484646;">x</div>
            <div>4</div>
            <div>5</div>
            <div>6</div>
            <div style="background-color: #484646;">-</div>
            <div>1</div>
            <div>2</div>
            <div>3</div>
            <div style="background-color: #484646;">+</div>
            <div>%</div>
            <div>0</div>
            <div>.</div>
            <div style="background-color: #ff6200;">=</div>
        </div>
    </div>

    <script>
        const display = document.querySelector(".len");
        const buttons = document.querySelectorAll(".main div, .side div");

        let currentInput = "";

        function updateDisplay() {
            display.value = currentInput || "0";
        }

        function factorial(n) {
            if (n < 0) return NaN;
            if (n === 0 || n === 1) return 1;
            return n * factorial(n - 1);
        }

        function calculate() {
            try {
                currentInput = eval(currentInput.replace(/÷/g, "/").replace(/x/g, "*"));
                updateDisplay();
            } catch {
                currentInput = "Error";
                updateDisplay();
                currentInput = "";
            }
        }

        buttons.forEach(btn => {
            btn.addEventListener("click", () => {
                let value = btn.textContent.trim();

                if (value === "AC") {
                    currentInput = "";
                    updateDisplay();
                } else if (value === "←") {
                    currentInput = currentInput.slice(0, -1);
                    updateDisplay();
                } else if (value === "=") {
                    calculate();
                } else if (value === "+/-") {
                    if (currentInput.startsWith("-")) {
                        currentInput = currentInput.slice(1);
                    } else {
                        currentInput = "-" + currentInput;
                    }
                    updateDisplay();
                } else if (value === "%") {
                    try {
                        currentInput = (eval(currentInput) / 100).toString();
                        updateDisplay();
                    } catch {
                        currentInput = "Error";
                        updateDisplay();
                    }
                } 
                // Scientific functions
                else if (value === "sin") {
                    currentInput = Math.sin(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "cos") {
                    currentInput = Math.cos(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "tan") {
                    currentInput = Math.tan(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "sinh") {
                    currentInput = Math.sinh(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "cosh") {
                    currentInput = Math.cosh(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "tanh") {
                    currentInput = Math.tanh(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "log") {
                    currentInput = Math.log10(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "ln") {
                    currentInput = Math.log(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "√") {
                    currentInput = Math.sqrt(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "x^2") {
                    currentInput = Math.pow(eval(currentInput), 2).toString();
                    updateDisplay();
                } else if (value === "x^3") {
                    currentInput = Math.pow(eval(currentInput), 3).toString();
                    updateDisplay();
                } else if (value === "10^") {
                    currentInput = Math.pow(10, eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "e^") {
                    currentInput = Math.exp(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "1/x") {
                    currentInput = (1 / eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "x!") {
                    currentInput = factorial(eval(currentInput)).toString();
                    updateDisplay();
                } else if (value === "π") {
                    currentInput += Math.PI;
                    updateDisplay();
                } else {
                    currentInput += value;
                    updateDisplay();
                }
            });
        });

        updateDisplay();
    </script>
</body>
</html>
